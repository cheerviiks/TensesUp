<div class="tense">
    <h2>Present Perfect Continuous</h2>
    <p class="intro">Present Perfect Continuous — это настоящее совершенное длительное время, которое показывает действие, которое началось в прошлом, продолжается до настоящего момента и, возможно, продолжится в будущем. Мы фокусируемся на продолжительности действия.</p>

    <h3>Когда именно используется Present Perfect Continuous</h3>
    <h4>1. Действие, начавшееся в прошлом и всё ещё продолжающееся</h4>
    <p class="note">Действие, которое началось какое-то время назад и всё ещё происходит сейчас.</p>
    <div class="examples">
        <p>I <strong>have been studying</strong> English for 3 years.<em> — Я учу английский 3 года (и всё ещё учу).</em></p>
        <p>She <strong>has been working</strong> here since 2020.<em> — Она работает здесь с 2020 года (и всё ещё работает).</em></p>
        <p>It <strong>has been raining</strong> since morning.<em> — Дождь идёт с утра (и всё ещё идёт).</em></p>
    </div>
    
    <h4>2. Недавнее действие с видимым результатом сейчас</h4>
    <p class="note">Действие, которое только что закончилось, и мы видим его результат в настоящем.</p>
    <div class="examples">
        <p>You're out of breath. <strong>Have you been running</strong>?<em> — Ты запыхался. Ты бегал?</em></p>
        <p>Her eyes are red. She <strong>has been crying</strong>.<em> — У неё красные глаза. Она плакала.</em></p>
        <p>Why are your hands dirty? <strong>Have you been gardening</strong>?<em> — Почему у тебя грязные руки? Ты занимался садоводством?</em></p>
    </div>
    
    <h4>3. Временное действие, которое повторяется</h4>
    <p class="note">Действие, которое происходит временно и может измениться.</p>
    <div class="examples">
        <p>I <strong>have been living</strong> with my parents recently.<em> — В последнее время я живу с родителями (временно).</em></p>
        <p>He <strong>has been working</strong> a lot lately.<em> — В последнее время он много работает.</em></p>
        <p>They <strong>have been practicing</strong> every day this week.<em> — На этой неделе они тренируются каждый день.</em></p>
    </div>

    <h4>4. Раздражение или жалоба (с for, since, all day)</h4>
    <p class="note">Когда действие продолжается слишком долго и это раздражает.</p>
    <div class="examples">
        <p>The phone <strong>has been ringing</strong> for 10 minutes!<em> — Телефон звонит уже 10 минут! (надоело)</em></p>
        <p>He <strong>has been playing</strong> computer games all day!<em> — Он играет в компьютерные игры весь день! (жалоба)</em></p>
        <p>You <strong>have been complaining</strong> since you arrived!<em> — Ты жалуешься с тех пор, как приехал!</em></p>
    </div>

    <h3>Ключевое отличие: Present Perfect Continuous vs Present Perfect Simple</h3>
    <table>
        <thead>
            <tr>
                <th>Present Perfect Continuous (процесс)</th>
                <th>Present Perfect Simple (результат)</th>
                <th>Разница</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td data-label="Continuous">I <strong>have been reading</strong> this book for 2 hours.<em> (читаю уже 2 часа — процесс)</em></td>
                <td data-label="Simple">I <strong>have read</strong> 100 pages.<em> (прочитал 100 страниц — результат)</em></td>
                <td data-label="Разница">Процесс vs результат</td>
            </tr>
            <tr>
                <td data-label="Continuous">She <strong>has been cooking</strong> all morning.<em> (готовила всё утро — длительность)</em></td>
                <td data-label="Simple">She <strong>has cooked</strong> dinner.<em> (приготовила ужин — завершение)</em></td>
                <td data-label="Разница">Длительность vs завершение</td>
            </tr>
            <tr>
                <td data-label="Continuous">Why are you tired? <strong>Have you been working</strong>?<em> (процесс работы)</em></td>
                <td data-label="Simple">How much work <strong>have you done</strong>?<em> (сколько сделал)</em></td>
                <td data-label="Разница">Причина состояния vs количество</td>
            </tr>
            <tr>
                <td data-label="Continuous">I <strong>have been learning</strong> Spanish.<em> (учу — процесс)</em></td>
                <td data-label="Simple">I <strong>have learned</strong> Spanish.<em> (выучил — знаю)</em></td>
                <td data-label="Разница">В процессе vs уже знаю</td>
            </tr>
        </tbody>
    </table>

    <h3>1. Утвердительные предложения</h3>
    <table>
        <thead>
            <tr>
                <th>Лицо</th>
                <th>Формула</th>
                <th>Пример</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td data-label="Лицо">I / You / We / They</td>
                <td data-label="Формула">have been + V-ing</td>
                <td data-label="Пример">I have been studying.</td>
            </tr>
            <tr>
                <td data-label="Лицо">He / She / It</td>
                <td data-label="Формула">has been + V-ing</td>
                <td data-label="Пример">She has been working.</td>
            </tr>
        </tbody>
    </table>
    
    <p class="note">Правила добавления -ing такие же, как в Present Continuous.</p>

    <h3>2. Отрицательные предложения</h3>
    <table>
        <thead>
            <tr>
                <th>Лицо</th>
                <th>Формула</th>
                <th>Пример</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td data-label="Лицо">I / You / We / They</td>
                <td data-label="Формула">have not been + V-ing</td>
                <td data-label="Пример">I have not been sleeping well.</td>
            </tr>
            <tr>
                <td data-label="Лицo">He / She / It</td>
                <td data-label="Формула">has not been + V-ing</td>
                <td data-label="Пример">He has not been feeling well.</td>
            </tr>
        </tbody>
    </table>
    <p class="note">have not → haven't, has not → hasn't</p>

    <h3>3. Вопросы</h3>
    <table>
        <thead>
            <tr>
                <th>Тип</th>
                <th>Формула</th>
                <th>Пример</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td data-label="Тип">Общий</td>
                <td data-label="Формула">Have/Has + subject + been + V-ing?</td>
                <td data-label="Пример">Have you been waiting long?</td>
            </tr>
            <tr>
                <td data-label="Тип">Специальный</td>
                <td data-label="Формула">How long + have/has + subject + been + V-ing?</td>
                <td data-label="Пример">How long have you been learning English?</td>
            </tr>
        </tbody>
    </table>

    <h3>4. Слова-маркеры и выражения</h3>
    <h4>Для указания длительности:</h4>
    <div class="examples">
        <p>for + период времени — for 2 hours, for 3 years, for a long time</p>
        <p>since + момент времени — since Monday, since 2020, since childhood</p>
        <p>all day/morning/week — весь день/утро/неделю</p>
        <p>lately/recently — в последнее время</p>
    </div>
    
    <h4>Вопросы о длительности:</h4>
    <div class="examples">
        <p>How long...? — Как долго...?</p>
        <p>Since when...? — С каких пор...?</p>
        <p>For how long...? — Сколько времени...?</p>
    </div>
    
    <h4>Маркеры недавних действий:</h4>
    <div class="examples">
        <p>just — только что</p>
        <p>all morning — всё утро</p>
        <p>the whole day — целый день</p>
    </div>

    <h3>For vs Since (повторение, но очень важно!)</h3>
    <table>
        <thead>
            <tr>
                <th>For (сколько времени)</th>
                <th>Since (с какого времени)</th>
                <th>Пример</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td data-label="For">for 2 hours — 2 часа</td>
                <td data-label="Since">since 2 o'clock — с 2 часов</td>
                <td data-label="Пример">I have been waiting for 2 hours / since 2 PM.</td>
            </tr>
            <tr>
                <td data-label="For">for 3 years — 3 года</td>
                <td data-label="Since">since 2021 — с 2021 года</td>
                <td data-label="Пример">She has been teaching for 3 years / since 2021.</td>
            </tr>
            <tr>
                <td data-label="For">for a long time — долгое время</td>
                <td data-label="Since">since I was a child — с детства</td>
                <td data-label="Пример">We have been friends for a long time / since childhood.</td>
            </tr>
        </tbody>
    </table>

    <h3>Глаголы, которые НЕ используются в Continuous (даже в Perfect Continuous)</h3>
    <div class="examples">
        <p>❌ I have been knowing him for years. (НЕ правильно)</p>
        <p>✅ I have known him for years. (Present Perfect Simple)</p>
        
        <p>❌ She has been having this car since 2020. (если "иметь" в значении владения)</p>
        <p>✅ She has had this car since 2020.</p>
        
        <p>❌ They have been liking this music lately.</p>
        <p>✅ They have liked this music lately.</p>
    </div>
    <p class="note">Эти глаголы (know, have в значении владеть, like, love, hate, believe, understand и др.) описывают состояния, а не действия, поэтому они не используются в Continuous формах.</p>

    <h3>Типичные ошибки</h3>
    <div class="examples">
        <p>❌ <strong>Нельзя</strong> без указания времени: I have been studying. (нужно: for 2 hours, since morning)</p>
        <p>✅ <strong>Нужно</strong>: I have been studying for 2 hours.</p>
        
        <p>❌ <strong>Нельзя</strong> с завершёнными действиями: I have been finishing my work. (если уже закончил)</p>
        <p>✅ <strong>Правильно</strong>: I have finished my work. (Present Perfect)</p>
        
        <p>❌ <strong>Не путать</strong>: How long do you study? (Present Simple — вообще)</p>
        <p>✅ <strong>Правильно</strong>: How long have you been studying? (с какого момента учишь)</p>
    </div>

    <h3>Упражнения</h3>
    
    <button class="start-btn" onclick="toggleExercise('exercise1')">Упражнение 1 — выбери нужную форму</button>
    <div id="exercise1" class="exercise">
        
<div class="task">
    <p>1. I ___ (study) English for three years.</p>
    <button onclick="check(this,true)">have been studying</button>
    <button onclick="check(this,false)">have studied</button>
    <button onclick="check(this,false)">am studying</button>
    <p class="result"></p>
</div>

<div class="task">
    <p>2. She ___ (work) here since 2020.</p>
    <button onclick="check(this,true)">has been working</button>
    <button onclick="check(this,false)">has worked</button>
    <button onclick="check(this,false)">works</button>
    <p class="result"></p>
</div>

<div class="task">
    <p>3. How long ___ you ___ (wait)?</p>
    <button onclick="check(this,true)">have / been waiting</button>
    <button onclick="check(this,false)">have / waited</button>
    <button onclick="check(this,false)">are / waiting</button>
    <p class="result"></p>
</div>

<div class="task">
    <p>4. They ___ (play) tennis for two hours.</p>
    <button onclick="check(this,true)">have been playing</button>
    <button onclick="check(this,false)">have played</button>
    <button onclick="check(this,false)">play</button>
    <p class="result"></p>
</div>

<div class="task">
    <p>5. Why are you so tired? ___ you ___ (work) hard?</p>
    <button onclick="check(this,true)">Have / been working</button>
    <button onclick="check(this,false)">Did / work</button>
    <button onclick="check(this,false)">Have / worked</button>
    <p class="result"></p>
</div>

<div class="task">
    <p>6. It ___ (rain) since morning.</p>
    <button onclick="check(this,true)">has been raining</button>
    <button onclick="check(this,false)">has rained</button>
    <button onclick="check(this,false)">is raining</button>
    <p class="result"></p>
</div>

<div class="task">
    <p>7. He ___ (not sleep) well lately.</p>
    <button onclick="check(this,true)">has not been sleeping</button>
    <button onclick="check(this,false)">has not slept</button>
    <button onclick="check(this,false)">does not sleep</button>
    <p class="result"></p>
</div>

<div class="task">
    <p>8. What ___ you ___ (do) all morning?</p>
    <button onclick="check(this,true)">have / been doing</button>
    <button onclick="check(this,false)">did / do</button>
    <button onclick="check(this,false)">are / doing</button>
    <p class="result"></p>
</div>

<div class="task">
    <p>9. The children ___ (watch) TV for three hours!</p>
    <button onclick="check(this,true)">have been watching</button>
    <button onclick="check(this,false)">have watched</button>
    <button onclick="check(this,false)">watch</button>
    <p class="result"></p>
</div>

<div class="task">
    <p>10. I ___ (live) in this city since I was born.</p>
    <button onclick="check(this,true)">have been living</button>
    <button onclick="check(this,false)">have lived</button>
    <button onclick="check(this,false)">live</button>
    <p class="result"></p>
</div>

<div class="task">
    <p>11. How long ___ she ___ (learn) French?</p>
    <button onclick="check(this,true)">has / been learning</button>
    <button onclick="check(this,false)">has / learned</button>
    <button onclick="check(this,false)">does / learn</button>
    <p class="result"></p>
</div>

<div class="task">
    <p>12. You look tired. ___ you ___ (study) all night?</p>
    <button onclick="check(this,true)">Have / been studying</button>
    <button onclick="check(this,false)">Did / study</button>
    <button onclick="check(this,false)">Have / studied</button>
    <p class="result"></p>
</div>

<div class="task">
    <p>13. We ___ (know) each other for ten years.</p>
    <button onclick="check(this,false)">have been knowing</button>
    <button onclick="check(this,true)">have known</button>
    <button onclick="check(this,false)">know</button>
    <p class="result"></p>
</div>

<div class="task">
    <p>14. The phone ___ (ring) for five minutes!</p>
    <button onclick="check(this,true)">has been ringing</button>
    <button onclick="check(this,false)">has rung</button>
    <button onclick="check(this,false)">is ringing</button>
    <p class="result"></p>
</div>

<div class="task">
    <p>15. I ___ (try) to call you all day!</p>
    <button onclick="check(this,true)">have been trying</button>
    <button onclick="check(this,false)">have tried</button>
    <button onclick="check(this,false)">try</button>
    <p class="result"></p>
</div>

    </div>
    
    <button class="start-btn" onclick="toggleExercise('exercise2')">
        Упражнение 2 — установите правильный порядок слов
    </button>

    <div id="exercise2" class="exercise">
    
<div class="task">
    <p>1. Я учу английский три года.</p>
    <div class="words">
        <button onclick="addWord(this)">English</button>
        <button onclick="addWord(this)">for</button>
        <button onclick="addWord(this)">studying</button>
        <button onclick="addWord(this)">have</button>
        <button onclick="addWord(this)">years</button>
        <button onclick="addWord(this)">been</button>
        <button onclick="addWord(this)">three</button>
        <button onclick="addWord(this)">I</button>
        <button onclick="addWord(this)">.</button>
    </div>
    <p class="sentence" data-answer="I have been studying English for three years ."></p>
    <button onclick="checkSentence(this)">Проверить</button>
    <button onclick="clearOrder(this)">Стереть</button>
    <p class="result"></p>
</div>

<div class="task">
    <p>2. Она работает здесь с 2020 года.</p>
    <div class="words">
        <button onclick="addWord(this)">since</button>
        <button onclick="addWord(this)">has</button>
        <button onclick="addWord(this)">been</button>
        <button onclick="addWord(this)">working</button>
        <button onclick="addWord(this)">2020</button>
        <button onclick="addWord(this)">She</button>
        <button onclick="addWord(this)">here</button>
        <button onclick="addWord(this)">.</button>
    </div>
    <p class="sentence" data-answer="She has been working here since 2020 ."></p>
    <button onclick="checkSentence(this)">Проверить</button>
    <button onclick="clearOrder(this)">Стереть</button>
    <p class="result"></p>
</div>

<div class="task">
    <p>3. Как долго ты ждёшь?</p>
    <div class="words">
        <button onclick="addWord(this)">waiting</button>
        <button onclick="addWord(this)">you</button>
        <button onclick="addWord(this)">have</button>
        <button onclick="addWord(this)">How</button>
        <button onclick="addWord(this)">been</button>
        <button onclick="addWord(this)">long</button>
        <button onclick="addWord(this)">?</button>
    </div>
    <p class="sentence" data-answer="How long have you been waiting ?"></p>
    <button onclick="checkSentence(this)">Проверить</button>
    <button onclick="clearOrder(this)">Стереть</button>
    <p class="result"></p>
</div>

<div class="task">
    <p>4. Почему ты так устал? Ты много работал?</p>
    <div class="words">
        <button onclick="addWord(this)">Have</button>
        <button onclick="addWord(this)">working</button>
        <button onclick="addWord(this)">hard</button>
        <button onclick="addWord(this)">?</button>
        <button onclick="addWord(this)">you</button>
        <button onclick="addWord(this)">been</button>
    </div>
    <p class="sentence" data-answer="Have you been working hard ?"></p>
    <button onclick="checkSentence(this)">Проверить</button>
    <button onclick="clearOrder(this)">Стереть</button>
    <p class="result"></p>
</div>

<div class="task">
    <p>5. Дождь идёт с утра.</p>
    <div class="words">
        <button onclick="addWord(this)">since</button>
        <button onclick="addWord(this)">raining</button>
        <button onclick="addWord(this)">morning</button>
        <button onclick="addWord(this)">been</button>
        <button onclick="addWord(this)">It</button>
        <button onclick="addWord(this)">has</button>
        <button onclick="addWord(this)">.</button>
    </div>
    <p class="sentence" data-answer="It has been raining since morning ."></p>
    <button onclick="checkSentence(this)">Проверить</button>
    <button onclick="clearOrder(this)">Стереть</button>
    <p class="result"></p>
</div>

<div class="task">
    <p>6. Он плохо спит в последнее время.</p>
    <div class="words">
        <button onclick="addWord(this)">lately</button>
        <button onclick="addWord(this)">well</button>
        <button onclick="addWord(this)">sleeping</button>
        <button onclick="addWord(this)">has</button>
        <button onclick="addWord(this)">not</button>
        <button onclick="addWord(this)">He</button>
        <button onclick="addWord(this)">been</button>
        <button onclick="addWord(this)">.</button>
    </div>
    <p class="sentence" data-answer="He has not been sleeping well lately ."></p>
    <button onclick="checkSentence(this)">Проверить</button>
    <button onclick="clearOrder(this)">Стереть</button>
    <p class="result"></p>
</div>

<div class="task">
    <p>7. Что ты делал всё утро?</p>
    <div class="words">
        <button onclick="addWord(this)">morning</button>
        <button onclick="addWord(this)">you</button>
        <button onclick="addWord(this)">doing</button>
        <button onclick="addWord(this)">been</button>
        <button onclick="addWord(this)">all</button>
        <button onclick="addWord(this)">have</button>
        <button onclick="addWord(this)">What</button>
        <button onclick="addWord(this)">?</button>
    </div>
    <p class="sentence" data-answer="What have you been doing all morning ?"></p>
    <button onclick="checkSentence(this)">Проверить</button>
    <button onclick="clearOrder(this)">Стереть</button>
    <p class="result"></p>
</div>

<div class="task">
    <p>8. Дети смотрят телевизор три часа!</p>
    <div class="words">
        <button onclick="addWord(this)">The</button>
        <button onclick="addWord(this)">for</button>
        <button onclick="addWord(this)">hours</button>
        <button onclick="addWord(this)">TV</button>
        <button onclick="addWord(this)">three</button>
        <button onclick="addWord(this)">children</button>
        <button onclick="addWord(this)">been</button>
        <button onclick="addWord(this)">watching</button>
        <button onclick="addWord(this)">have</button>
        <button onclick="addWord(this)">!</button>
    </div>
    <p class="sentence" data-answer="The children have been watching TV for three hours !"></p>
    <button onclick="checkSentence(this)">Проверить</button>
    <button onclick="clearOrder(this)">Стереть</button>
    <p class="result"></p>
</div>

<div class="task">
    <p>9. Я пытаюсь дозвониться тебе весь день!</p>
    <div class="words">
        <button onclick="addWord(this)">all</button>
        <button onclick="addWord(this)">to</button>
        <button onclick="addWord(this)">day</button>
        <button onclick="addWord(this)">been</button>
        <button onclick="addWord(this)">I</button>
        <button onclick="addWord(this)">trying</button>
        <button onclick="addWord(this)">call</button>
        <button onclick="addWord(this)">you</button>
        <button onclick="addWord(this)">have</button>
        <button onclick="addWord(this)">!</button>
    </div>
    <p class="sentence" data-answer="I have been trying to call you all day !"></p>
    <button onclick="checkSentence(this)">Проверить</button>
    <button onclick="clearOrder(this)">Стереть</button>
    <p class="result"></p>
</div>

<div class="task">
    <p>10. Как долго она учит французский?</p>
    <div class="words">
        <button onclick="addWord(this)">learning</button>
        <button onclick="addWord(this)">she</button>
        <button onclick="addWord(this)">French</button>
        <button onclick="addWord(this)">been</button>
        <button onclick="addWord(this)">How</button>
        <button onclick="addWord(this)">long</button>
        <button onclick="addWord(this)">has</button>
        <button onclick="addWord(this)">?</button>
    </div>
    <p class="sentence" data-answer="How long has she been learning French ?"></p>
    <button onclick="checkSentence(this)">Проверить</button>
    <button onclick="clearOrder(this)">Стереть</button>
    <p class="result"></p>
</div>

    </div>

    <button class="start-btn" onclick="toggleExercise('exercise3')">
        Упражнение 3 — впишите слово в правильной форме
    </button>

    <div id="exercise3" class="exercise">
        
<div class="task">
    <p>1. I <input type="text" data-answer="have been learning"> (learn) Spanish for 6 months.</p>
</div>

<div class="task">
    <p>2. She <input type="text" data-answer="has been waiting"> (wait) for you since 3 PM.</p>
</div>

<div class="task">
    <p>3. How long <input type="text" data-answer="have you been living"> (you/live) in London?</p>
</div>

<div class="task">
    <p>4. They <input type="text" data-answer="have been talking"> (talk) on the phone for an hour.</p>
</div>

<div class="task">
    <p>5. I <input type="text" data-answer="have been trying"> (try) to reach you all day.</p>
</div>

<div class="task">
    <p>6. The baby <input type="text" data-answer="has been crying"> (cry) since she woke up.</p>
</div>

<div class="task">
    <p>7. We <input type="text" data-answer="have been planning"> (plan) this trip for weeks.</p>
</div>

<div class="task">
    <p>8. He <input type="text" data-answer="has been working"> (work) on this project since January.</p>
</div>

<div class="task">
    <p>9. <input type="text" data-answer="Have you been exercising"> (you/exercise) regularly lately?</p>
</div>

<div class="task">
    <p>10. It <input type="text" data-answer="has been snowing"> (snow) since yesterday.</p>
</div>

<div class="task">
    <p>11. They <input type="text" data-answer="have been dating"> (date) for two years.</p>
</div>

<div class="task">
    <p>12. I <input type="text" data-answer="have been feeling"> (feel) tired recently.</p>
</div>

<div class="task">
    <p>13. She <input type="text" data-answer="has been teaching"> (teach) at this school for 15 years.</p>
</div>

<div class="task">
    <p>14. The students <input type="text" data-answer="have been studying"> (study) for the exam all week.</p>
</div>

<div class="task">
    <p>15. We <input type="text" data-answer="have been saving"> (save) money for a new car.</p>
</div>

        <button onclick="checkInputs('exercise3')">Проверить</button>
        <button onclick="clearInputs('exercise3')">Стереть</button>
    </div>
</div>